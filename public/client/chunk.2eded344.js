import{n,s as t,C as r,D as s}from"./chunk.2f6834fd.js";function c(n,t){return{subscribe:e(n,t).subscribe}}function e(r,s=n){let c;const e=[];function u(n){if(t(r,n)){if(r=n,!c)return;e.forEach(n=>n[1]()),e.forEach(n=>n[0](r))}}return{set:u,update:function(n){u(n(r))},subscribe:function(t,o=n){const i=[t,o];return e.push(i),1===e.length&&(c=s(u)||n),t(r),()=>{const n=e.indexOf(i);-1!==n&&e.splice(n,1),0===e.length&&c()}}}}function u(t,e,u){const o=!Array.isArray(t),i=o?[t]:t,f=e.length<2;return c(u,t=>{let c=!1;const u=[];let a=0,b=n;const h=()=>{if(a)return;b();const r=e(o?u[0]:u,t);f?t(r):b=s(r)?r:n},l=i.map((n,t)=>n.subscribe(n=>{u[t]=n,a&=~(1<<t),c&&h()},()=>{a|=1<<t}));return c=!0,h(),function(){r(l),b()}})}export{u as d,c as r,e as w};
//# sourceMappingURL=chunk.2eded344.js.map
